jQuery((function(e){if(e(".clb-hub").length){jQuery(".clb-hub #tabs > ul a").on("click",(function(){return jQuery(".clb-hub #tabs > ul a").removeClass("selected"),jQuery(this).addClass("selected"),jQuery(".clb-hub #tabs .tab-item").hide(),jQuery(jQuery(this).attr("href")).show(),!1}));var t=e(".clb-hub #accordion"),i=t.find(".accordionItem"),n=t.find(".accordionItem_content");t.find(".accordionItem_title").each((function(n){e(this).on("click",(function(){var e,o,s;e=n,o=t.find(".visible"),s=t.find(".accordionItem_content").eq(e),i.eq(e).hasClass("active")?(i.eq(e).removeClass("active"),i.eq(e).find(".accordionItem_content.visible").removeClass("visible").css("height","0px"),i.eq(e).find(".accordionItem_title .accordionItem_control i").removeClass("ion-md-remove").addClass("ion-md-add")):(i.removeClass("active").eq(e).addClass("active"),setTimeout((function(){s.css("height","").addClass("no-transition visible");let i=s.outerHeight()+"px";s.removeClass("no-transition visible").css("height","0px"),setTimeout((function(){o.removeClass("visible no-transition").css("height","0px"),s.addClass("visible").css("height",i),t.find(".accordionItem_title .accordionItem_control i").removeClass("ion-md-remove").addClass("ion-md-add"),t.find(".accordionItem_title").eq(e).find(".accordionItem_control i").removeClass("ion-md-add").addClass("ion-md-remove")}),30)}),30))}))})),n.attr("style","height:0;overflow:hidden"),e("#ohio-activate-theme-license").on("click",(function(){if(e(this).attr("loading"))return!1;const t=window.open("https://demo.clbthemes.com/v1/activate?product=ohio","Theme activation","resizable,width=840,height=570"),i=n=>{const o=n.data;let s;try{s=JSON.parse(o)}catch(n){return}s?.code&&(t.close(),e(this).attr("loading",!0).addClass("btn-spinner").text("Proceeding.."),jQuery.post(window.ajaxurl,{action:"ohio_save_license_code",license:o},(()=>{window.location.reload()})),window.removeEventListener("message",i))};return window.addEventListener("message",i),!1})),e("#ohio-remove-theme-license").on("click",(function(){if(e(this).attr("loading"))return!1;e(this).attr("loading",!0).addClass("btn-spinner").text("Detaching.."),jQuery.post(window.ajaxurl,{action:"ohio_remove_license_code"},(()=>{window.location.reload()}))})),jQuery("#sync-languages-action").on("click",(function(){confirm("It will take all non-empty global settings from the main language and apply them to the current. This action cannot be undone. Are you sure?")&&jQuery.post(window.ajaxurl,{action:"ohio_sync_settings_with_main_lang",current_lang:jQuery(this).attr("lang-code")},(e=>{"OK"!=e&&alert("Ð¡an't sync languages. An unknown error has occurred"),window.location.reload()}))})),jQuery("#export_theme_settings").on("click",(function(e){e.preventDefault(),this.classList.contains("btn-spinner")||(this.classList.add("btn-spinner"),jQuery.post(window.ajaxurl,{action:"ohio_export_theme_settings"},(e=>{const t=document.createElement("a"),i=new Blob([e],{type:"application/json"});t.href=URL.createObjectURL(i),t.download=`ohio_setting_export_${(new Date).toISOString()}.json`,t.click(),URL.revokeObjectURL(t.href),this.classList.remove("btn-spinner")})))}));const o=document.querySelector("#settings_import_submit"),s=document.querySelector("#settings_import_file_trigger");jQuery(s).on("click",(function(){const e=document.querySelector("#settings_import_file");e.click(),e.addEventListener("change",(function(e){if(this.files.length){const e=this.files[0].name;s.style="display: none;",o.style="",o.innerText=`Import ${e.length>50?e.slice(0,50)+"...":e}`}}))})),jQuery("#import_theme_settings").on("submit",(function(t){t.preventDefault();const i=document.querySelector("#settings_import_submit");if(i.classList.contains("btn-spinner"))return;i.classList.add("btn-spinner");const n=new FormData(this);n.append("action","ohio_import_theme_settings"),jQuery.post({url:window.ajaxurl,processData:!1,contentType:!1,enctype:"multipart/form-data"},n,(()=>{e(".notice.o-notice.o-notice-settings.notice-success").addClass("visible"),setTimeout((()=>{window.location.reload()}),500)}))})),jQuery("#reset_theme_settings").on("click",(function(e){e.preventDefault(),this.classList.contains("btn-spinner")||(this.classList.add("btn-spinner"),confirm("Are you sure you want to reset your settings? This process is irreversible unless you've made a backup.")&&jQuery.post(window.ajaxurl,{action:"ohio_reset_theme_settings"},(()=>{window.location.reload()})))})),jQuery.post(window.ajaxurl,{action:"ohio_check_last_version"},(t=>{let i=JSON.parse(t);(function(e,t,i){var n=i&&i.lexicographical,o=i&&i.zeroExtend,s=e.split("."),a=t.split(".");function r(e){return(n?/^\d+[A-Za-z]*$/:/^\d+$/).test(e)}if(!s.every(r)||!a.every(r))return NaN;if(o){for(;s.length<a.length;)s.push("0");for(;a.length<s.length;)a.push("0")}n||(s=s.map(Number),a=a.map(Number));for(var c=0;c<s.length;++c){if(a.length==c)return 1;if(s[c]!=a[c])return s[c]>a[c]?1:-1}if(s.length!=a.length)return-1;return 0})(i.current,i.actual)<0&&(e("#ohio-version-table-placeholder").text(i.actual),e("#ohio-version-table-value").find("mark").removeClass("yes").addClass("no"),e("#ohio-version-table-value").find(".ohio-new-version-available").show())})),e("#tabs-3 mark.no").length&&e(".wp-header-end").after('<div class="notice o-notice warning is-dismissible"><div class="holder"><i class="bi bi-exclamation-triangle"></i> Check your System Status to make sure that your server is configured properly. This could cause some issues while importing demos.</div></div>'),jQuery("#get-system-report").on("click",(function(e){e.preventDefault();const t=document.getElementById("system-report");t.setAttribute("style",""),t.focus(),t.select()}))}e("#fake-publishing-action .button-publish").on("click",(function(){return e(this).addClass("btn-spinner").text("Saving.."),e("input#publish").trigger("click"),!1})),e(".clb-hub .acf-settings-wrap form#post").on("submit",(function(t){t.preventDefault();var i=e(this),n=i.attr("action");e(".acf-postbox").addClass("loading"),e.ajax({type:"POST",url:n,data:i.serialize(),success(){e(".notice.o-notice.o-notice-settings.notice-success").addClass("visible"),e(".acf-postbox").toggleClass("loading"),e("#fake-publishing-action .button-publish").removeClass("btn-spinner").text("Save Changes"),setTimeout((function(){e(".notice.o-notice.o-notice-settings.notice-success").removeClass("visible")}),3e3)},error(){e(".notice.o-notice.o-notice-settings.notice-error").addClass("visible"),e(".acf-postbox").toggleClass("loading"),e("#fake-publishing-action .button-publish").removeClass("btn-spinner").text("Save Changes"),setTimeout((function(){e(".notice.o-notice.o-notice-settings.notice-error").removeClass("visible")}),3e3)}})})),e(document).ready((function(){e(".acf-postbox").addClass("visible"),e(window).unbind("beforeunload"),e(".notice.o-notice.o-notice-settings button.notice-dismiss").off("click").on("click",(function(){e(this).parent(".notice.o-notice.o-notice-settings").removeClass("visible")}))})),e(".clb-steps-item:first-child").on({mouseenter:function(){e(".toplevel_page_ohio_hub").addClass("visible")},mouseleave:function(){e(".toplevel_page_ohio_hub").removeClass("visible")}})}));