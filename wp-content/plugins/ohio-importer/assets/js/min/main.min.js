jQuery(function(i){"use strict";var o;function t(o,t,s,a="wpbakery"){i(".js-ocdi-ajax-response").empty(),t.siblings(".js-ocdi-gl-item").hide(),window["clb-demo-templates"].classList.add(a),t.animate({opacity:0},500,"swing",function(){t.animate({opacity:1},500)}),t.closest(".js-ocdi-gl").find(".js-ocdi-gl-header").hide(),t.find(".js-ocdi-gl-import-data").hide(),t.find(".ocdi__gl-item-button.btn").hide(),t.find(".ocdi__gl-item-button.btn.ocdi__local_link").show();var c=new FormData;c.append("action","ocdi_import_demo_data"),c.append("security",ocdi.ajax_nonce),c.append("selected",o),c.append("options",JSON.stringify(s)),c.append("type",a),e(c)}function e(o){i.ajax({method:"POST",url:ocdi.ajax_url,data:o,contentType:!1,processData:!1,beforeSend:function(){i(".js-ocdi-ajax-loader").show(),i(".o-notice.warning, .clb-nav-search").hide(),i(".js-headline-templates").text("Demo is importing..")}}).done(function(t){if(void 0!==t.status&&"newAJAX"===t.status)e(o);else if(void 0!==t.status&&"customizerAJAX"===t.status){(s=new FormData).append("action","ocdi_import_customizer_data"),s.append("security",ocdi.ajax_nonce),!0===ocdi.wp_customize_on&&s.append("wp_customize","on"),e(s)}else if(void 0!==t.status&&"afterAllImportAJAX"===t.status){var s;(s=new FormData).append("action","ocdi_after_import_data"),s.append("security",ocdi.ajax_nonce),e(s)}else void 0!==t.message?(i(".js-ocdi-ajax-response").append("<p>"+t.message+"</p>"),i(".js-ocdi-ajax-loader").hide(),i(".js-headline-templates").text("Import Complete")):(i(".js-ocdi-ajax-response").append('<div class="notice o-notice error notice-error"><div class="holder"><i class="bi bi-exclamation-triangle"></i><p>'+t+'</p><a target="_blank" class="btn" href="https://colabrio.ticksy.com/">Need Help?</a></div></div>'),i(".js-ocdi-ajax-loader").hide())}).fail(function(o){i(".js-ocdi-ajax-response").append('<div class="notice o-notice error notice-error"><div class="holder"><i class="bi bi-exclamation-triangle"></i><p>Error: '+o.statusText+" ("+o.status+')&nbsp;<b>Try to repeat an action again.</b></p><a target="_blank" class="btn" href="https://colabrio.ticksy.com/">Need Help?</a></div></div>'),i(".js-ocdi-ajax-loader").hide()})}i(".js-ocdi-import-data").on("click",function(){i(".js-ocdi-ajax-response").empty();var o=new FormData;o.append("action","ocdi_import_demo_data"),o.append("security",ocdi.ajax_nonce),o.append("selected",i("#ocdi__demo-import-files").val()),i("#ocdi__content-file-upload").length&&o.append("content_file",i("#ocdi__content-file-upload")[0].files[0]),i("#ocdi__widget-file-upload").length&&o.append("widget_file",i("#ocdi__widget-file-upload")[0].files[0]),i("#ocdi__customizer-file-upload").length&&o.append("customizer_file",i("#ocdi__customizer-file-upload")[0].files[0]),i("#ocdi__redux-file-upload").length&&(o.append("redux_file",i("#ocdi__redux-file-upload")[0].files[0]),o.append("redux_option_name",i("#ocdi__redux-option-name").val())),e(o)}),i(".js-ocdi-gl-import-data").on("click",function(){var o,e,s=i(this).val(),a=i(this).closest(".js-ocdi-gl-item");ocdi.import_popup&&(window.has_license_code?function(o,e){var s=i("#js-ocdi-modal-content"),a=ocdi.import_files[o].import_preview_image_url||ocdi.theme_screenshot,c="",d=ocdi.import_files[o].import_notice||"",l="",n=e.find(".js-ocdi-gl-import-data").attr("data-import-type");let p=[{text:"Import for WPBakery",class:"btn ocdi-right-button",click:function(){const s={global_settings:i(this).closest(".ui-dialog").find("#import_option_settings").is(":checked"),media:i(this).closest(".ui-dialog").find("#import_option_media").is(":checked"),posts:i(this).closest(".ui-dialog").find("#import_option_posts").is(":checked"),projects:i(this).closest(".ui-dialog").find("#import_option_projects").is(":checked"),products:i(this).closest(".ui-dialog").find("#import_option_products").is(":checked"),widgets:i(this).closest(".ui-dialog").find("#import_option_widgets").is(":checked"),forms:i(this).closest(".ui-dialog").find("#import_option_forms").is(":checked")};i(this).dialog("close"),t(o,e,s,"wpbakery")}}];"both"==n&&p.push({text:"Import for Elementor",class:"btn ocdi-right-button",click:function(){const s={global_settings:i(this).closest(".ui-dialog").find("#import_option_settings").is(":checked"),media:i(this).closest(".ui-dialog").find("#import_option_media").is(":checked"),posts:i(this).closest(".ui-dialog").find("#import_option_posts").is(":checked"),projects:i(this).closest(".ui-dialog").find("#import_option_projects").is(":checked"),products:i(this).closest(".ui-dialog").find("#import_option_products").is(":checked"),widgets:i(this).closest(".ui-dialog").find("#import_option_widgets").is(":checked"),forms:i(this).closest(".ui-dialog").find("#import_option_forms").is(":checked")};i(this).dialog("close"),t(o,e,s,"elementor")}});var r=i.extend({dialogClass:"wp-dialog",resizable:!1,height:"auto",modal:!0},ocdi.dialog_options,{buttons:p});c=""===a?"<p>"+ocdi.texts.missing_preview_image+"</p>":'<div class="clb-import-inner"><div class="ocdi__modal-image-container"><img src="'+a+'" alt="'+ocdi.import_files[o].import_file_name+'"></div><div class="clb-import-options"><p>Choose what you want to be installed while import:</p><label class="form-switch"> <input id="import_option_settings" type="checkbox" checked> <i></i> Theme Settings</label><label class="form-switch"> <input id="import_option_media" type="checkbox" checked> <i></i> Media Files</label><label class="form-switch"> <input id="import_option_posts" type="checkbox" checked> <i></i> Posts</label><label class="form-switch"> <input id="import_option_projects" type="checkbox" checked> <i></i> Projects</label><label class="form-switch"> <input id="import_option_products" type="checkbox" checked> <i></i> Products</label><label class="form-switch"> <input id="import_option_forms" type="checkbox" checked> <i></i> Contact Forms</label><label class="form-switch"> <input id="import_option_widgets" type="checkbox" checked> <i></i> Widgets</label></div></div>';""!==d&&(l='<div class="ocdi__modal-notice  ocdi__demo-import-notice">'+d+"</div>");s.prop("title",ocdi.texts.dialog_title),s.html('<p class="ocdi__modal-item-title">'+ocdi.import_files[o].import_file_name+"</p>"+c+l),s.dialog(r)}(s,a):(o=i("#js-ocdi-modal-content").clone(),e=i.extend({dialogClass:"wp-dialog theme-purchase-form",resizable:!1,height:"auto",modal:!0},ocdi.dialog_options,{buttons:[{text:ocdi.texts.dialog_activate,class:"btn ocdi-right-button",click:function(){window.location.assign(ocdi.dashboard_link)}},{text:ocdi.texts.dialog_close,class:"btn btn-flat",click:function(){i(this).dialog("close")}}]}),o.prop("title","Activation Required"),o.html('<p class="ocdi__modal-item-title"><span class="envato-icon"><i class="dashicons dashicons-no"></i><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="21px" height="25px" viewBox="0 0 14 16" style="enable-background:new 0 0 14 16;" xml:space="preserve"><path class="st0" d="M11.9,0.1C11.5-0.1,10.1,0,8.5,0.5C5.7,2.5,3.3,5.3,3.1,9.9c0,0.1-0.3,0-0.4,0C2,8.4,1.7,6.8,2.3,4.6C2.5,4.4,2.1,4.2,2,4.2C1.9,4.4,1.3,5,0.9,5.7C-1,9,0.2,13.3,3.6,15.1c3.4,1.9,7.6,0.7,9.5-2.7C15.2,8.5,13.2,0.8,11.9,0.1L11.9,0.1z"></path></svg></span>Please, <a href="'+ocdi.dashboard_link+'">activate your theme</a> in the Ohio Dashboard to be able to use the Demo Importer.</p>'),o.dialog(e)))}),o=i(".js-ocdi-gl-item-container").find(".js-ocdi-gl-item"),i(".js-ocdi-nav-link").on("click",function(t){t.preventDefault(),window["clb-demo-templates"].classList.length>1&&(i("#tabs-1 [style*='display: none']:not(.js-ocdi-ajax-loader):not(.ocdi-card), .o-notice.warning").show(),i(".js-ocdi-ajax-response").empty(),i(".ocdi__gl-item-button.btn.ocdi__local_link, .ocdi-card").hide(),i(".js-headline-templates").text("Demo Templates"),window["clb-demo-templates"].setAttribute("class","clb-demo-holder")),i("#tabs-1").show(),i('a[href="#tabs-1"]').addClass("selected"),i('a[href="#tabs-1"]').addClass("selected"),i(this).parent().siblings().removeClass("active"),i(this).parent().addClass("active"),function(i){o.hide();var t=i&&"all"!==i?'[data-categories*="'+i+'"]':"div";o.filter(t).show().addClass("ocdi-is-fadein")}(this.hash.slice(1))}),i(".js-ocdi-gl-search").on("keyup",function(o){0<i(this).val().length?(i(".js-ocdi-gl-item-container").find(".js-ocdi-gl-item").hide(),i(".js-ocdi-gl-item-container").find('.js-ocdi-gl-item[data-name*="'+i(this).val().toLowerCase()+'"]').show()):i(".js-ocdi-gl-item-container").find(".js-ocdi-gl-item").show()})});